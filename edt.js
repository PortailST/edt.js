const data = {
  groupeST1: [ {
      day: "Lundi", date: "1er Septembre", events: [
        `11h15-12h15 : Réunion de Pré-Rentrée Portail ST - OUI SI<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> AMPHI PHYSIQUE`,
        `13h00-15h00 : Réunion de Pré-Rentrée Portail ST - Noms de A à L inclus<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> AMPHI PV`,
        `15h15-17h15 : Réunion de Pré-Rentrée Portail ST - Noms de M à Z inclus<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> AMPHI PV`
      ]
    },
    {
      day: "Mardi", date: "2 Septembre", events: [
        `8h00-10h00 : TD Maths0<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> Salle Math 1.1 (Bât M)`,
        `13h00-15h00 : Présentation Licence Physique<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> AMPHI PV`,
        `15h15-17h15 : Présentation Licence Chimie<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> AMPHI PV`
      ]
    },
    {
      day: "Mercredi", date: "3 Septembre", events: [
        `9h30-13h30 : FORUM D'ACCUEIL - Nouveaux entrants<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> Bibliothèque`,
        `14h00-15h00 : Atelier de rentrée - OBLIGATOIRE<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> Salle Coworking (Bât M)`,
        `15h15-17h15 : TD Maths0<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> Salle Math 1.1 (Bât M)`
      ]
    },
    {
      day: "Jeudi", date: "4 Septembre", events: [
        `8h00-10h00 : TD Maths0<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> Salle Math 1.1 (Bât M)`,
        `10h15-12h15 : Présentation Licence Mathématiques & MIASHS<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> AMPHI PV`,
        `13h00-15h00 : Présentation Licence Informatique<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> AMPHI PV`,
        `13h00-15h00 : Présentation Licence Electronique & IA<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> AMPHI PV`
      ]
    },
    {
      day: "Vendredi", date: "5 Septembre", events: [
        `10h15-12h15 : TD Maths0<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> Salle Math 1.1 (Bât M)`,
        `13h00-15h00 : Présentation Licence Sciences de la Terre<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> AMPHI Sc. Naturelles`
      ]
    },
    {
      day: "Lundi", date: "8 Septembre", events: [
        `8h00-10h00 : TD Maths0<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> Salle Math 1.1 (Bât M)`,
        `13h00-15h00 : Innovation (Fablab & Invent)<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> AMPHI PV`
      ]
    },
    {
      day: "Mardi", date: "9 Septembre", events: [
        `10h15-12h15 : TD Maths0<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> Salle Math 1.1 (Bât M)`
      ]
    },
    {
      day: "Mercredi", date: "10 Septembre", events: [
        `10h15-12h15 : TD Maths0<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> Salle Math 1.1 (Bât M)`
      ]
    },
    {
      day: "Jeudi", date: "11 Septembre", events: [
        `8h00-10h00 : TD Maths0<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> Salle Math 1.1 (Bât M)`
      ]
    },
    {
      day: "Vendredi", date: "12 Septembre", events: [
        `HORAIRE SUR MOODLE : EVALUATION MATHS0<br><img src="https://univ-cotedazur.fr/medias/photo/position_1689063333149-png?ID_FICHE=1202336" style="width:20px; vertical-align:middle; filter:brightness(0) invert(1);"> AMPHI PV`
      ]
    }],
  groupeST2: [],
  groupeST3: [],
  groupeST4: [],
  groupeST5: [],
  groupeST6: [],
  groupeST7: [],
  groupeST8: [],
  groupeST9: [],
  groupeST10: [],
  groupeST11: [],
  groupeST12: [],
  groupeST13: [],
  groupeST14: [],
  groupeST15: [],
  groupeST16: [],
  groupeST17: [],
  groupeST18: [],
  groupeST19: [],
  groupeST20: [],
  groupeST21: [],
  groupeSV1: [],
  groupeSV2: [],
  groupeSV3: [],
  groupeSV4: [],
  groupeSV5: [],
  groupeSV6: [],
  groupeSV7: [],
  groupeSV8: [],
  groupeSV9: [],
  groupeSV10: []
};

let currentGroup = 'groupeST1';
let currentIndex = 0;
let sliding = false;

function renderDay(direction = 'right') {
  if (sliding) return;
  sliding = true;
  const content = document.getElementById('day-content');
  content.style.transition = 'transform 0.2s ease-in-out';
  content.style.transform = `translateX(${direction === 'right' ? '-100%' : '100%'})`;

  setTimeout(() => {
    const dayData = data[currentGroup][currentIndex];
    document.getElementById('current-date').textContent = `${dayData.day} - ${dayData.date}`;
    let html = "";
    dayData.events.forEach(event => {
      let bg = '#999', color = '#fff';
      if (event.includes('Réunion')) { bg='#0095c8'; }
      else if (event.includes('TD')) { bg='#007ba3'; }
      else if (event.includes('FORUM')) { bg='#00a888'; }
      else if (event.includes('Atelier') || event.includes('ATELIER')) { bg='#ff008c'; color='#fff'; }
      else if (event.includes('Présentation')) { bg='#a190f7'; }
      else if (event.includes('Innovation')) { bg='#f9ae5d'; color='#fff'; }
      else if (event.includes('EVALUATION')) { bg='#eb1a1a'; }
      html += `<div style="
        margin:14px 0;
        line-height:1.5;
        font-size:18px;
        border-radius:12px;
        padding:14px 18px;
        color:${color};
        background:${bg};
        box-shadow:0 3px 6px rgba(0,0,0,0.1);
        word-break:break-word;
        font-weight:bold;
      ">${event}</div>`;
    });
    content.innerHTML = html;
    content.style.transition = 'none';
    content.style.transform = `translateX(${direction === 'right' ? '100%' : '-100%'})`;
    setTimeout(() => {
      content.style.transition = 'transform 0.2s ease-in-out';
      content.style.transform = 'translateX(0)';
      sliding = false;
    }, 20);
  }, 200);
}

function nextDay() {
  const groupData = data[currentGroup];
  if (!groupData) return;
  currentIndex = (currentIndex + 1) % groupData.length;
  renderDay('right');
}

function prevDay() {
  const groupData = data[currentGroup];
  if (!groupData) return;
  currentIndex = (currentIndex - 1 + groupData.length) % groupData.length;
  renderDay('left');
}

document.getElementById('group-select').addEventListener('change', function () {
  currentGroup = this.value;
  currentIndex = 0;
  renderDay('right');
});

renderDay('right');

  });
  updateCurrentDate();
});
